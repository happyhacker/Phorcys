@using Microsoft.Web.Mvc
@using NHibernate.Mapping
@using Phorcys.UI.Web.Controllers
@using Telerik.Web.Mvc.UI

@{
  ViewBag.Title = "Maximum Operating Depth";
  Layout = "~/Views/Shared/SiteMaster.cshtml";
}

<script type="text/javascript">
    function Calc(o2, po2, isFreshWater) {

      var atmDepth = 34;
      var isFresh = true;

      for (i = 0; i < isFreshWater.length; i++) {
        if (isFreshWater[i].checked) {
          isFresh = isFreshWater[i].value;
        }
      }
      if (isFresh == "false") {
        atmDepth = 33;
      }
      var mod = (po2 / (o2 / 100) - 1) * atmDepth;
      return mod;
    }
</script>

<h1>Maximum Operating Depth</h1>

<div id="body">

</div>

<div id="calculator" align="center">
  <form id="form1" name="form1" action="" >
    <br/> <br/>
    <label for="O2">
      Oxygen %:</label>
    <input id="O2" name="O2" size="8"/>
    <br/><br/>
    <label for="PPO2">
      PPO2: </label>
    <input id="PPO2" name="PO2" size="8"/>
    <br/><br/>

    <label for="IsFreshWater">
      Fresh/Salt Water:</label>
    <input type="radio" id="Fresh" name="IsFreshWater" value="true"
           checked="checked" />
    Fresh
    <input type="radio" id="Salt" name="IsFreshWater" value="false" />
    Salt
 
    <br/> <br/>
    <button type="button" id="button" onclick="form1.Mod.value = Calc(form1.O2.value, form1.PO2.value,form1.IsFreshWater)">Calc</button>
    <br/><br/>

    <label for="Mod">
      Maximum Operating Depth
    </label>
    <input id="Mod" name="Mod" size="8" readonly/>

  </form>
</div>